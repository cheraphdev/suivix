const Discord = require("discord.js");
const config = require("../config");
const messagesSchema = require("../models/messagesSchema");

module.exports = {
    name: 'embed',
    run: async (message, args, client) => {

        message.delete()

        let button = new Discord.ActionRowBuilder()
            .addComponents(
                new Discord.ButtonBuilder()
                    .setCustomId("messagesCount")
                    .setLabel("Voir vos message(s)")
                    .setEmoji("üì¨")
                    .setStyle(Discord.ButtonStyle.Primary)
                    .setDisabled(false),

                new Discord.ButtonBuilder()
                    .setCustomId("leaderboard")
                    .setLabel("Leaderboard")
                    .setEmoji("üèÜ")
                    .setStyle(Discord.ButtonStyle.Primary)
                    .setDisabled(false),

                new Discord.ButtonBuilder()
                    .setCustomId("statsbot")
                    .setLabel("Statistique")
                    .setEmoji("üìä")
                    .setStyle(Discord.ButtonStyle.Primary)
                    .setDisabled(false),

                new Discord.ButtonBuilder()
                    .setLabel("Invite Suivix")
                    .setEmoji("<:suivixlogo:1079932737483448340>")
                    .setURL(config.bot.inviteUrl)
                    .setStyle(Discord.ButtonStyle.Link)
            )

        const adminEmbed = new Discord.EmbedBuilder()
            .setColor(config.colors.default)
            .setAuthor({name: `${client.user.username}#${client.user.discriminator}`, iconURL: `${client.user.displayAvatarURL()}`})
            .setDescription(`<@${client.user.id}> est l'un des **meilleurs bots qui g√®rent automatiquement les publicit√©s**. Sa mission est de **simplifier la vie de votre serveur publicitaire** tout en √©tant accessible √† tous.\nPour cela, il ne dispose de plusieurs cordes √† son arc t'elle que son syst√®me de mod√©ration des publicit√©s ou bien le tracking de messages et bien plus encore üòé\n\n__**Fonctionnalit√©:**__\n> 1. Un syst√®me de **message automatique** apr√®s chaque pub envoy√© (personnalisable).\n> 2. Un syst√®me de **logs** pour ne rien louper aux publicit√©s v√©rifi√©es par votre √©quipe (personnalisable).\n> 3. Un syst√®me **d'arriver des pubs** pour que votre √©quipe puisse **refuser/accepter** une publicit√© (personnalisable).\n> 4. Un syst√®me de **tracking des messages** pour pouvoir donner un petit go√ªt de fun sur votre serveur.\n> 5. Un syt√®me pour customiser le **prefix** de <@${client.user.id}> (personnalisable).\n> 6. Un syst√®me de personnalisation des r√©actions en dessous des publicit√©s.\n\n<@${client.user.id}> √† √©t√© d√©velopper par \`cheraph#6290\` avec l'[open-source](https://github.com/ceedledev/UtilityPub) de \`Ceed#2117\` et am√©liorer vers la \`v14.7.1\` de **discord.js** !`)
            .setFooter({ text: 'Suivix aide votre serveur publicitaire üòÅ', iconURL: client.user.displayAvatarURL({ dynamic: true }) })
        return message.channel.send({ embeds: [ adminEmbed ], components: [ button ] })

    }
}